---
layout: default
---
<div class="content-column">
  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

    <header class="post-header">
      <h1 class="post-title p-name" itemprop="name headline">{{ page.title | escape }}</h1>
      <p class="post-meta">
        <time class="dt-published" datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished">
          {{ page.date | date: "%b %-d, %Y" }}
        </time>
        {% if page.author %}
          â€¢ <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">{{ page.author }}</span></span>
        {% endif %}
      </p>
      {% if page.tags.size > 0 %}
        <div class="post-tags">
          {% for tag in page.tags %}
            <span class="post-tag">#{{ tag }}</span>
          {% endfor %}
        </div>
      {% endif %}
    </header>

    {% if page.image %}
      <div class="post-cover-image-container">
        <img src="{{ page.image | relative_url }}" alt="{{ page.title }}" class="post-cover-image" style="width: 100%; height: auto; margin-bottom: 1.5rem; border-radius: 8px;">
      </div>
    {% endif %}

    <!-- Language Switcher (Top of Article) -->
    <div class="lang-switch-container" style="margin-bottom: 1.5rem;">
      {% assign posts=site.posts | where:"ref", page.ref | sort: 'lang' %}
      {% for post in posts %}
        {% if post.lang != page.lang %}
          <a href="{{ post.url | relative_url }}" class="btn-lang-switch">
            {% if post.lang == 'en' %} Read in English ðŸ‡¬ðŸ‡§ {% else %} à¸­à¹ˆà¸²à¸™à¸ à¸²à¸©à¸²à¹„à¸—à¸¢ ðŸ‡¹ðŸ‡­ {% endif %}
          </a>
        {% endif %}
      {% endfor %}
    </div>

    <div class="post-content e-content" itemprop="articleBody" id="post-content-body">
      {{ content }}
    </div>

    <div id="in-article-ad-hidden" style="display: none;">
      <div class="content-ad-slot">
        <strong>Advertisement</strong>
        {% include adsense.html %}
      </div>
    </div>

  </article>
</div>

<aside class="sidebar-column">
  {% include sidebar.html %}
  
  <!-- Language Switcher (Sidebar) -->
  <div class="sidebar-widget">
    <h3 class="sidebar-title">Languages</h3>
    {% assign posts=site.posts | where:"ref", page.ref | sort: 'lang' %}
    {% for post in posts %}
      {% if post.lang != page.lang %}
        <a href="{{ post.url | relative_url }}" class="btn-lang-switch" style="display: block; text-align: center;">
          {% if post.lang == 'en' %} Read in English ðŸ‡¬ðŸ‡§ {% else %} à¸­à¹ˆà¸²à¸™à¸ à¸²à¸©à¸²à¹„à¸—à¸¢ ðŸ‡¹ðŸ‡­ {% endif %}
        </a>
      {% else %}
        <div style="color: #999; font-size: 0.9rem;">
          {% if post.lang == 'en' %} English ðŸ‡¬ðŸ‡§ (Current) {% else %} à¸ à¸²à¸©à¸²à¹„à¸—à¸¢ ðŸ‡¹ðŸ‡­ (à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™) {% endif %}
        </div>
      {% endif %}
    {% endfor %}
    {% if posts.size == 0 %}
      <span style="color: #999; font-size: 0.9rem;">No translations available.</span>
    {% endif %}
  </div>
</aside>

<script>
  // Simple Ad Injection Logic
  document.addEventListener("DOMContentLoaded", function() {
    var content = document.getElementById('post-content-body');
    var ad = document.getElementById('in-article-ad-hidden');
    
    if (content && ad) {
      var paragraphs = content.getElementsByTagName('p');
      if (paragraphs.length > 0) {
        // Inject after the first paragraph
        var firstP = paragraphs[0];
        // Create a visible clone or move the element
        var adClone = ad.cloneNode(true);
        adClone.style.display = 'block';
        adClone.id = 'in-article-ad-visible';
        
        firstP.parentNode.insertBefore(adClone, firstP.nextSibling);
      } else {
        // Fallback: prepend if no paragraphs
        var adClone = ad.cloneNode(true);
        adClone.style.display = 'block';
        content.insertBefore(adClone, content.firstChild);
      }
    }
  });
</script>
